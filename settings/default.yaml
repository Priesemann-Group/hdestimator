# ------------------------------------------------------------------------------ #
# Do not edit this file!
# Instead, make a copy, edit that file , and pass it using eg:
# python3 estimate.py sample_data/spike_times.dat -s settings/custom.yaml
#
# Settings that are not found in the custom settings file are loaded
# from this default.yaml file.
#
# Settings passed to the estimator via the command line override
# settings loaded from file.
# ------------------------------------------------------------------------------ #

# ------------------------------------------------------------------------------ #
# Embedding parameters
# ------------------------------------------------------------------------------ #

# Step size delta t (in seconds) with which the window is slid through the data.
embedding_step_size : 0.005

# Set of values for T, the past range (in seconds) to be used for embeddings.
# Should be an array of floating-point values.
embedding_past_range_set : [0.005, 0.00561, 0.00629, 0.00706, 0.00792,
0.00889, 0.00998, 0.01119, 0.01256, 0.01409, 0.01581, 0.01774,
0.01991, 0.02233, 0.02506, 0.02812, 0.03155, 0.0354, 0.03972, 0.04456,
0.05, 0.0561, 0.06295, 0.07063, 0.07924, 0.08891, 0.09976, 0.11194,
0.12559, 0.14092, 0.15811, 0.17741, 0.19905, 0.22334, 0.25059,
0.28117, 0.31548, 0.35397, 0.39716, 0.44563, 0.5, 0.56101, 0.62946,
0.70627, 0.79245, 0.88914, 0.99763, 1.11936, 1.25594, 1.40919,
1.58114, 1.77407, 1.99054, 2.23342, 2.50594, 2.81171, 3.15479,
3.53973, 3.97164, 4.45625, 5.0]

# Set of values for d, the number of bins in the embedding.
# Should be an array of integer values.
embedding_number_of_bins_set : [1, 2, 3, 4, 5]

# Set of values for kappa, the scaling exponent for the bins in the embedding.
# Should be either an array of floating-point values or a python-dictionary with the
# three entries 'number_of_scalings', 'min_first_bin_size' and
# 'min_step_for_scaling'.
embedding_scaling_exponent_set :
    'number_of_scalings' : 10
    'min_first_bin_size' : 0.005
    'min_step_for_scaling' : 0.01

# ------------------------------------------------------------------------------ #
# Estimator parameters
# ------------------------------------------------------------------------------ #

# The method to be used to estimate the history dependence,
# one of 'bbc', 'shuffling' or 'all'.
estimation_method : shuffling

# The tolerance for the Bayesian Bias Criterion. Influences which embeddings are
# discarded from the analysis.
bbc_tolerance : 0.05

# Use cross validation for the embedding optimization: optimize on the first
# half of the data only, provide the estimate on the second one, to avoid overfitting.
cross_validated_optimization : False

# Return R_tot as the average over R(T) for T in [T_D, T_max],
# instead of R_tot = R(T_D). If set to True, the setting for
# number_of_bootstraps_R_tot (see below) is ignored and set to 0.
return_averaged_R : True

# ------------------------------------------------------------------------------ #
# Bootstrap parameters
# ------------------------------------------------------------------------------ #

# The number of bootstrap re-shuffles that should be used to determine the optimal
# embedding. (Bootstrap the estimates of R_max to determine R_tot.)
# These are computed during the 'history-dependence' task because they are essential
# to obtain R_tot.
number_of_bootstraps_R_max : 250

# The number of bootstrap re-shuffles that should be used to estimate the confidence
# interval of the optimal embedding. (Bootstrap the estimates of R_tot = R(T_D) to
# obtain a confidence interval for R_tot.).
# These are computed during the 'confidence-intervals' task.
# The setting return_averaged_R (see above) needs to be set to False for this setting
# to take effect.
number_of_bootstraps_R_tot : 250

# The number of bootstrap re-shuffles that should be used to estimate the confidence
# intervals for embeddings other than the optimal one. (Bootstrap the estimates of
# R(T) for all other T.)
# (These are not necessary for the main analysis and therefore default to 0.)
number_of_bootstraps_nonessential : 0

# The number of symbols that should be drawn in each block for bootstrap resampling
# If it is set to None (recommended), the length is automatically chosen, based
# on heuristics
block_length_l : None

# Most of the time we observed normally-distributed bootstrap replications,
# so it is sufficient (and more efficient) to compute confidence intervals
# based on the standard deviation
bootstrap_CI_use_sd : True

# The lower percentile and upper percentiles for the confidence interval.
# This has no effect if bootstrap_CI_use_sd is set to True
bootstrap_CI_percentile_lo : 2.5
bootstrap_CI_percentile_hi : 97.5

# ------------------------------------------------------------------------------ #
# Permutation test parameters
# ------------------------------------------------------------------------------ #

# The number of permutations that should be used for the permutation test.
# number_of_permutations : 100

# ------------------------------------------------------------------------------ #
# Auto mutual information parameters
# ------------------------------------------------------------------------------ #

# Set of values for the sizes of the bins (in seconds). Should be an array of
# floating-point values.
auto_MI_bin_size_set : [0.005, 0.01, 0.025, 0.05, 0.25, 0.5]

# The maximum delay (in seconds) between the past bin and the response.
auto_MI_max_delay : 5

# ------------------------------------------------------------------------------ #
# Misc. analysis settings
# ------------------------------------------------------------------------------ #

# A label for the analysis that appears both in the output image and the CSV file.
label : ""

# A parent directory for persistent storage, under which a directory is created per
# analysis of a spiking times file.
ANALYSIS_DIR : ./analysis

# If set to True, save the analysis to file; and if furthermore an existing analysis
# is found, read it from file.
persistent_analysis : True

# ------------------------------------------------------------------------------ #
# Plot settings
# ------------------------------------------------------------------------------ #

# Plot the active information storage (AIS) instead of history dependence
# (This does not affect the CSV files, both measures are always included there.)
plot_AIS : False

# A python-dictionary containing the settings to be used for the rcParams.update
# function of the matplotlib.pyplot plotting framework.
plot_settings :
    'figure.figsize' : [6.3, 5.5]
    'axes.labelsize' : 9
    'font.size' : 9
    'legend.fontsize' : 8
    'xtick.labelsize' : 8
    'ytick.labelsize' : 8
    'savefig.format' : 'pdf'

# The color to be used for the output image.
plot_color : '#4da2e2'
